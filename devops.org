* Devops  
  :properties:
  :header-args: :results none
  :end:

  Special thanks to [[https://github.com/wrightmikea/simple-docker-tangle][wrightmikea]]!
  This file is an attempt at *Literate Devops* 
  ... looks like we scrapped this idea though, perhaps this is where some deployment documentation will go...
** Setup
*** Logging Directory Setup
#+name: logging-dir-setup
#+begin_src sh :var app_name="" username=""
   mkdir $app_name
   touch $app_name/access.log
   touch $app_name/message.log
   chown -R $username:$username $app_name
   chmod 755 $app_name

   mkdir nginx
   touch nginx/error.log
   touch nginx/access.log
   chown -R $username:$username nginx
   chmod 755 nginx

   ls -l
   ls -l $app_name
   ls -l nginx
 #+end_src

**** Server
#+call: logging-dir-setup[:dir /scp:tagg|sudo:tagg:/var/log](app_name="my-portfolio", username="ec2-user")
**** Local
#+call: logging-dir-setup[:dir /sudo::/var/log](app_name="my-portfolio", username=(user-login-name))

*** TODO Docker setup
*** TODO Docker Compose Setup
*** TODO Local
**** letsencrypt directories
***** dhparam generation
***** self signed certs
***** trusting certs
***** /var/lib/letsencrypt/
***** /var/www/html/
***** /etc/letsencrypt/
**** logging directories
**** my-portfolio config files


* Footnotes / Tutorials
** Nginx
*** [[https://help.dreamhost.com/hc/en-us/articles/222784068-The-most-important-steps-to-take-to-make-an-nginx-server-more-secure][Nginx Security Configuration]]
*** Rate limiting
*** [[https://www.digitalocean.com/community/tutorials/how-to-secure-a-containerized-node-js-application-with-nginx-let-s-encrypt-and-docker-compose][Certbot Setup]]
*** [[http://blog.code4hire.com/2018/06/define-named-volume-with-host-mount-in-the-docker-compose-file/][Regarding Docker->Volumes->Driver->Local->"o: bind"]]
